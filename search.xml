<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Reactçˆ¶ç»„ä»¶å’Œå­ç»„ä»¶è§£è€¦æ–¹æ¡ˆ</title>
    <url>/2019/03/24/React%E7%88%B6%E7%BB%84%E4%BB%B6%E5%92%8C%E5%AD%90%E7%BB%84%E4%BB%B6%E8%A7%A3%E8%80%A6%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ä¸šåŠ¡ä¸­ç»å¸¸ä¼šé‡åˆ°æŠ½ç¦»ç»„ä»¶çš„æƒ…å†µï¼Œé‚£ä¹ˆçˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ä¹‹é—´è¯¥æ€ä¹ˆè§£è€¦å‘¢ï¼Ÿ</p>
<h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><p>æ¯”å¦‚å®ç°ä¸€ä¸ª List ç»„ä»¶ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Item = <span class="function">(<span class="params">&#123; text &#125;</span>) =&gt;</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;text&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">list</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.state.list.map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Item</span> <span class="attr">text</span>=<span class="string">&#123;x&#125;</span> /&gt;</span></span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>æˆ‘ä»¬å°è£…çˆ¶ç»„ä»¶ç»å¸¸ä¼šç›´æ¥ç”¨åˆ°è¿™ç§æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœè¯¥çˆ¶ç»„ä»¶æ˜¯ä¸€ä¸ªå…¬å…±ç»„ä»¶ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬åœ¨å¤–éƒ¨å¼•ç”¨å®ƒæ—¶ï¼Œå®ƒå¯¹äºæˆ‘ä»¬è€Œè¨€å…¶å®æ˜¯ä¸€ä¸ªé»‘ç›’ã€‚çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶é€šè¿‡ list ç‰¢ç‰¢çš„è€¦å’Œåœ¨äº†ä¸€èµ·ã€‚</p>
<span id="more"></span>

<h2 id="è§£è€¦æ–¹æ¡ˆ"><a href="#è§£è€¦æ–¹æ¡ˆ" class="headerlink" title="è§£è€¦æ–¹æ¡ˆ"></a>è§£è€¦æ–¹æ¡ˆ</h2><h3 id="ä¸€ã€ä½¿ç”¨-render-props"><a href="#ä¸€ã€ä½¿ç”¨-render-props" class="headerlink" title="ä¸€ã€ä½¿ç”¨ render props"></a>ä¸€ã€ä½¿ç”¨ render props</h3><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">list</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.props.children(<span class="built_in">this</span>.state.list);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-- jsx</span><br><span class="line"></span><br><span class="line">&lt;List&gt;</span><br><span class="line">  &#123;<span class="function">(<span class="params">list</span>) =&gt;</span> list.map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Item</span> <span class="attr">text</span>=<span class="string">&#123;x&#125;</span> /&gt;</span></span>)&#125;</span><br><span class="line">&lt;/List&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ render props çš„è®¾è®¡å®ç°äº†çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ä¹‹é—´çš„è§£è€¦ã€‚</p>
<h3 id="äºŒã€Compound-Component"><a href="#äºŒã€Compound-Component" class="headerlink" title="äºŒã€Compound Component"></a>äºŒã€Compound Component</h3><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">list</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      React.Children.map(</span><br><span class="line">        <span class="built_in">this</span>.props.children,</span><br><span class="line">        <span class="function">(<span class="params">child, i</span>) =&gt;</span> React.cloneElement(child, &#123;</span><br><span class="line">          <span class="attr">text</span>: state.list[i]</span><br><span class="line">        &#125;)</span><br><span class="line">      );</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--jsx</span><br><span class="line"></span><br><span class="line">&lt;List&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Item</span> /&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Item</span> /&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Item</span> /&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Item</span> /&gt;</span></span></span><br><span class="line">&lt;/List&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° compound component ä¹Ÿèƒ½å®ç°çˆ¶å­ç»„ä»¶è§£è€¦ï¼Œåªæ˜¯åœ¨è¿™é‡Œå¯èƒ½ä¸æ˜¯é‚£ä¹ˆå®Œç¾ã€‚å…¶å® compound component çš„åº”ç”¨è¿œä¸æ­¢å¦‚æ­¤ï¼Œè¯»è€…å¯ä»¥è‡ªè¡ŒæŒ–æ˜ã€‚ğŸ˜ƒ</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>compound component å’Œ render props å‡å®ç°äº†çˆ¶å­ç»„ä»¶çš„è§£è€¦ï¼Œå¹¶ä¸”çˆ¶ç»„ä»¶å¯¹äºä½¿ç”¨è€…æ¥è¯´ä¹Ÿä¸å†æ˜¯ä¸€ä¸ªé»‘ç›’ã€‚</p>
<h3 id="å¼•ç”³"><a href="#å¼•ç”³" class="headerlink" title="å¼•ç”³"></a>å¼•ç”³</h3><p>å°†çˆ¶å­ç»„ä»¶è§£è€¦åï¼Œçˆ¶å­ç»„ä»¶ä¹‹é—´åªéœ€è¦æ¥å£è¾¾æˆä¸€è‡´ä¾¿èƒ½å®Œæˆä½¿ç”¨ã€‚æ­¤æ—¶è‹¥å°†å•å…ƒæµ‹è¯•è¦†ç›–äºæµ‹è¯•ç”¨ä¾‹ï¼Œå…·ä½“åˆæœ‰ä»€ä¹ˆä¾¿åˆ©ä¹‹å¤„å‘¢ï¼ŸğŸ‘¾</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>è®¾è®¡</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>ç»„ä»¶è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoå‘å¸ƒæ–‡ç« æµç¨‹è®°å½•</title>
    <url>/2018/11/09/hexo%E5%8F%91%E5%B8%83%E6%96%87%E7%AB%A0%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>æ–°å»ºæ–‡ç« </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new post &quot;title&quot;</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆé™æ€ç½‘é¡µ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°é¢„è§ˆ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>åŒæ­¥è‡³ github æœåŠ¡å™¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Create-react-appä¸­ä½¿ç”¨è£…é¥°å™¨è¯­æ³•</title>
    <url>/2019/03/01/Create-react-app%E4%B8%AD%E4%BD%BF%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h3 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h3><p>æƒ³è¦åœ¨ create-react-app ä¸­ä½¿ç”¨ mobxï¼Œå› ä¸ºè£…é¥°å™¨æ¨¡å¼çœ‹èµ·æ¥ç®€å•ï¼Œæ‰€ä»¥æƒ³è®© create-react-app æ”¯æŒè£…é¥°å™¨è¯­æ³•ã€‚</p>
<h3 id="é¡¹ç›®æ­å»º"><a href="#é¡¹ç›®æ­å»º" class="headerlink" title="é¡¹ç›®æ­å»º"></a>é¡¹ç›®æ­å»º</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">create-react-app test-decorator</span><br><span class="line">npm install -s mobx-react mobx</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæ¯•åï¼Œè‹¥ç›´æ¥åœ¨ class ä¸­ä½¿ç”¨ mobx çš„@observer è¯­æ³•</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;@observer&#125; <span class="keyword">from</span> <span class="string">&#x27;mobx-react&#x27;</span>;</span><br><span class="line">@observer</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span></span></span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ä¼šæŠ¥ç¼–è¯‘é”™è¯¯</p>
<span id="more"></span>

<p><img src="1551331520473.png" alt="1551331520473"></p>
<p>æ‰€ä»¥éœ€è¦ä½¿ç”¨ babel è®©ç¼–è¯‘æ—¶èƒ½æ”¯æŒè£…é¥°å™¨è¯­æ³•ã€‚</p>
<blockquote>
<p>psï¼šcreate-react-app å¯ä»¥ä½¿ç”¨å…¶ä»–æ–¹å¼æ”¯æŒè£…é¥°å™¨è¯­æ³•ï¼Œè¿™é‡Œåªæä¾›ä¸€ç§ç®€å•ç²—æš´çš„å½¢å¼-å¼¹å‡ºã€‚</p>
</blockquote>
<h3 id="å¼¹å‡º-create-react-app-çš„é¡¹ç›®"><a href="#å¼¹å‡º-create-react-app-çš„é¡¹ç›®" class="headerlink" title="å¼¹å‡º create-react-app çš„é¡¹ç›®"></a>å¼¹å‡º create-react-app çš„é¡¹ç›®</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm run eject</span><br></pre></td></tr></table></figure>

<p>å‘ç°å‡ºäº†ç‚¹å°æ„å¤–:</p>
<p>mobx ä¸åº”è¯¥å…ˆè£…ï¼Œ<code>ejectå¾—åœ¨å·¥ä½œåŒºæ²¡æœ‰æ”¹åŠ¨æ—¶å¯ç”¨ï¼Œä¸ç„¶ä¼šå¼¹å‡ºå¤±è´¥ã€‚</code></p>
<p>äºæ˜¯å…ˆæäº¤å·¥ä½œåŒºçš„æ”¹åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git commit -a -m &quot;init&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†æ¬¡ eject</p>
<h3 id="å®‰è£…-babel-plugin-proposal-decorators"><a href="#å®‰è£…-babel-plugin-proposal-decorators" class="headerlink" title="å®‰è£…@babel/plugin-proposal-decorators"></a>å®‰è£…<code>@babel/plugin-proposal-decorators</code></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install --save-dev @babel/plugin-proposal-decorators</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>package.json</code>ä¸­åŠ ä¸Š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;plugins&quot;</span>: [<span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è¿è¡ŒæŠ¥é”™</p>
<p><img src="1551335060987.png" alt="1551335060987"></p>
<p>åŠ ä¸Š<code>decoratorsBeforeExport</code>ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[<span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span>, &#123; <span class="attr">&quot;decoratorsBeforeExport&quot;</span>: <span class="literal">true</span> &#125;],</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™ï¼š</p>
<p><img src="1551335316388.png" alt="1551335316388"></p>
<p>æ”¹æˆ</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;plugins&quot;</span>: [</span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span>, &#123; <span class="attr">&quot;legacy&quot;</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span>, &#123; <span class="attr">&quot;loose&quot;</span>: <span class="literal">true</span> &#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸ!!!</p>
<p>çŒœæµ‹å’Œæˆ‘çš„ä¸‹é¢çš„å†™æ³•æœ‰å…³ï¼Œè£…é¥°å™¨æŒ‚åœ¨å¤´éƒ¨æ€ªæ€ªçš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@a</span><br><span class="line">class B</span><br></pre></td></tr></table></figure>

<p>å¥½åƒå¤§ä½¬ä»¬è®¤ä¸ºä¸‹é¢è¿™æ ·æ›´å¥½ä¸€ç‚¹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> @a <span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>Babel</tag>
        <tag>Mobx</tag>
        <tag>è£…é¥°å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>mobxåˆæ¢</title>
    <url>/2019/04/23/mobx%E5%88%9D%E6%8E%A2/</url>
    <content><![CDATA[<h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>æœ¬æ–‡æ˜¯ç¬”è€…åœ¨çœ‹äº† frontendmaster çš„çŠ¶æ€ç®¡ç†è¯¾ç¨‹ä¹‹åï¼Œå¯¹ mobx è¿›è¡Œçš„åˆæ­¥å­¦ä¹ çš„æ€»ç»“ã€‚</p>
<h2 id="äºŒã€Mobx-ç®€ä»‹"><a href="#äºŒã€Mobx-ç®€ä»‹" class="headerlink" title="äºŒã€Mobx ç®€ä»‹"></a>äºŒã€Mobx ç®€ä»‹</h2><p>mobx æ˜¯ç¤¾åŒºå†…ä½¿ç”¨çš„è¾ƒä¸ºå¸¸è§çš„ä¸€ç§çŠ¶æ€ç®¡ç†åº“ï¼Œmobx å®˜ç½‘ç§°å…¶</p>
<blockquote>
<p>é€šè¿‡é€æ˜çš„å‡½æ•°å“åº”å¼ç¼–ç¨‹(transparently applying functional reactive programming - TFRP)ä½¿å¾—çŠ¶æ€ç®¡ç†å˜å¾—ç®€å•å’Œå¯æ‰©å±•</p>
</blockquote>
<p>mobx ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li>Observable Stateï¼ˆå¯è§‚å¯ŸçŠ¶æ€ï¼‰</li>
<li>Computed Valuesï¼ˆè®¡ç®—å±æ€§ï¼‰</li>
<li>Reactionsï¼ˆååº”ï¼Œå®Œæˆé¡µé¢æ¸²æŸ“ã€æ—¥å¿—æ‰“å°ï¼‰</li>
<li>Actionsï¼ˆåŠ¨ä½œï¼‰</li>
</ul>
<p>ä»¥ä¸‹ä»‹ç»å°†ç»“åˆéƒ¨åˆ† mobx ä»£ç ï¼Œä»£ç åœ°å€ï¼š <a href="https://jsbin.com/demelo/19/edit?html,js,console,output">ç¤ºä¾‹ä»£ç </a></p>
<span id="more"></span>

<p>è¯¦ç»†ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;div id=<span class="string">&quot;console&quot;</span> /&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="keyword">const</span> &#123; computed, observable, autorun &#125; = mobx;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  @observable firstName;</span><br><span class="line">  @observable secondName;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">firstName, secondName</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.firstName = firstName;</span><br><span class="line">    <span class="built_in">this</span>.secondName = secondName;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @computed <span class="keyword">get</span> <span class="title">fullName</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.secondName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> wdz = <span class="keyword">new</span> Person(<span class="string">&#x27;Demian&#x27;</span>, <span class="string">&#x27;Wang&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> greet = observable.box(<span class="string">&#x27;good morning! &#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> render = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;console&#x27;</span>).innerText = greet + wdz.fullName;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// åŠ¨æ€æ›´æ–°domå†…å®¹</span></span><br><span class="line">autorun(render);</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ç½‘é¡µ ui ä¸ºï¼š</p>
<p><img src="1.png" alt="1"></p>
<h3 id="1-Computed-Values"><a href="#1-Computed-Values" class="headerlink" title="1.Computed Values"></a>1.Computed Values</h3><p>é¦–å…ˆä»‹ç»ä¸€ä¸‹è®¡ç®—å±æ€§ã€‚åœ¨ä¸Šè¿°ä»£ç ä¸­ fullName å°±æ˜¯è®¡ç®—å±æ€§ã€‚ç›¸ä¿¡ç”¨è¿‡ vue çš„å¯¹è¿™ä¸ªå¾ˆç†Ÿæ‚‰ã€‚å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæ‰‹åŠ¨ä¿®æ”¹ wdz çš„ firstName æ—¶ï¼Œwdz çš„ fullName ä¼šè‡ªåŠ¨æ›´æ–°</p>
<p><img src="2.png" alt="2"></p>
<p>æ­¤æ—¶ç½‘é¡µ ui ä¹Ÿå‘ç”Ÿäº†å®æ—¶çš„å˜åŒ–ï¼š</p>
<p><img src="3.png" alt="3"></p>
<p>å¯è§ï¼Œcomputed å±æ€§å¯ä»¥å“åº” observable å±æ€§çš„å˜åŒ–ã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨ react çš„ render å‡½æ•°ä¸­ï¼Œå¦‚æœå­˜åœ¨å¾ˆå¤š props çš„è®¡ç®—çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ get è¯­æ³•çš„å½¢å¼å°†è¿™éƒ¨åˆ†é€»è¾‘æŠ½ç¦»ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">get</span> <span class="title">fullName</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.props.firstName + <span class="built_in">this</span>.props.secondName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;this.fullName&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„ fullName å’Œå¯è®¡ç®—å±æ€§ç±»ä¼¼ï¼Œä¾æ®ä¼ å…¥çš„ props å±æ€§åŠ¨æ€å˜åŒ–ã€‚</p>
<h3 id="2-Observable-State"><a href="#2-Observable-State" class="headerlink" title="2.Observable State"></a>2.Observable State</h3><p>é€šè¿‡åœ¨ç±»å±æ€§å‰åŠ ä¸Š@observableï¼Œä¸ºè¯¥å±æ€§æ·»åŠ äº†å¯è§‚å¯ŸåŠŸèƒ½ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; observable &#125; <span class="keyword">from</span> <span class="string">&#x27;mobx&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  @observable firstName;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">firstName</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.firstName = firstName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è£…é¥°å™¨è¯­æ³•å¾ˆç®€æ´çš„ä½¿å¾— name æ‹¥æœ‰äº†å¯è§‚å¯Ÿçš„åŠŸèƒ½ã€‚</p>
<p>é‚£ä¹ˆ Observable æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</p>
<p>è§ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> greet = observable.box(<span class="string">&#x27;good morning! &#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¸º greet è¿”å›ä¸€ä¸ª observable åŒ…è£…è¿‡çš„å€¼ï¼Œé¦–å…ˆæˆ‘ä»¬è¯•ç€ç›´æ¥æ”¹å˜ greet çš„å€¼</p>
<p><img src="4.png" alt="4"></p>
<p>ä½†æ˜¯ï¼Œæ­¤æ—¶ç½‘é¡µ ui æ²¡æœ‰å®æ—¶å˜åŒ–ï¼š</p>
<p><img src="5.png" alt="5"></p>
<p>å¯è§ï¼ŒåŸå§‹ç±»å‹åœ¨åŒ…è£…è¿‡ä¹‹åï¼Œ<strong>ç›´æ¥æ”¹å˜å¼•ç”¨å€¼ä¸èƒ½è§¦å‘é¡µé¢åŠ¨æ€æ›´æ–°</strong>ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥æ‰“å°å‡º greet çš„å±æ€§ï¼Œå°±èƒ½å¾ˆç›´è§‚çš„è®¤è¯†åˆ° observable çš„ä½œç”¨ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ç®€åŒ–ç‰ˆçš„ observableï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç®€å•çš„observable</span></span><br><span class="line"><span class="keyword">const</span> observable = <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    value,</span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;get&#x27;</span>, <span class="built_in">this</span>.value);</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;set&#x27;</span>, newValue);</span><br><span class="line">      <span class="comment">// å‘å…¨å±€é€šçŸ¥è¯¥æ•°æ®æ›´æ–°</span></span><br><span class="line">      report(<span class="built_in">this</span>.value, newValue);</span><br><span class="line">      <span class="built_in">this</span>.value = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// reactiveä»£ç </span></span><br><span class="line">eventEmitter.on(<span class="string">&#x27;report&#x27;</span>, <span class="function">(<span class="params">oldValue, newValue</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(oldValue, <span class="string">&#x27;===&gt;&#x27;</span>, newValue);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šçŸ¥ç»™å…¨å±€</span></span><br><span class="line"><span class="keyword">const</span> report = <span class="function">(<span class="params">oldValue, newValue</span>) =&gt;</span> &#123;</span><br><span class="line">  eventEmitter.emit(<span class="string">&#x27;report&#x27;</span>, oldValue, newValue);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦æ˜¯ä½¿ç”¨ value å€¼å­˜å‚¨åŸå§‹ç±»å‹ï¼Œä½¿ç”¨ get è·å– value å€¼ï¼Œä½¿ç”¨ set æ›´æ–° value å€¼ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ›´æ–°æ•°æ®ä»¥å‰ï¼Œset æ–¹æ³•ä¼šæ ¹æ®ä¸€å®šçš„é…ç½®ï¼Œé€‰æ‹©æ˜¯å¦å‘å…¨å±€å‘é€æ›´æ–°äº‹ä»¶ï¼Œç›¸åº”çš„ä¸€äº› computed çš„å±æ€§ä¼šæ¥æ”¶åˆ°è¯¥äº‹ä»¶ã€‚</p>
<h3 id="3-Reactions"><a href="#3-Reactions" class="headerlink" title="3.Reactions"></a>3.Reactions</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> render = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;console&#x27;</span>).innerText = greet + wdz.fullName;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// åŠ¨æ€æ›´æ–°domå†…å®¹</span></span><br><span class="line">autorun(render);</span><br></pre></td></tr></table></figure>

<p>å½“ observable æ•°æ®å˜åŒ–åï¼Œé¡µé¢ä¼šè‡ªåŠ¨æ›´æ–° uiã€‚</p>
<h2 id="ä¸‰ã€mobx-å®æˆ˜-å®ç°ä¸€ä¸ª-todoList"><a href="#ä¸‰ã€mobx-å®æˆ˜-å®ç°ä¸€ä¸ª-todoList" class="headerlink" title="ä¸‰ã€mobx å®æˆ˜-å®ç°ä¸€ä¸ª todoList"></a>ä¸‰ã€mobx å®æˆ˜-å®ç°ä¸€ä¸ª todoList</h2><p>æ³¨ï¼šç”±äº create-react-app åˆ›å»ºçš„é¡¹ç›®é»˜è®¤ä¸èƒ½ä½¿ç”¨è£…é¥°å™¨è¯­æ³•ï¼Œæ‰€ä»¥ç¬”è€…æš´åŠ›çš„ eject å¹¶å®‰è£…äº†ç›¸åº”çš„ babel é…ç½®ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ todoList çš„é¡¹ç›®ç»“æ„ï¼š</p>
<p><img src="6.png" alt="6"></p>
<p>æœ€ç»ˆå®ç°æ•ˆæœï¼š</p>
<p><img src="7.png" alt="7"></p>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Demian1996/todo/tree/mobx-todo">todolist</a></p>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ mobx ç»´æŠ¤çŠ¶æ€æ—¶ï¼Œstore ä¸åƒ redux é‚£æ ·æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç»†ç²’åº¦åœ°ç»´æŠ¤ä¸€ä¸ªä¸ªæ•°æ®æ¨¡å‹ã€‚åœ¨ä¸­å°å‹çš„é¡¹ç›®ä¸­ï¼Œmobx çš„ store è½»ä¾¿ç®€æ´ï¼Œä½¿ç”¨èµ·æ¥å¾ˆé¡ºæ»‘ã€‚</p>
<p>é¡¹ç›®ä¸­ç”¨åˆ°çš„ mobx ç‰¹æ€§ï¼š</p>
<h3 id="1-observable"><a href="#1-observable" class="headerlink" title="1.observable"></a>1.observable</h3><p>ä¸»è¦ç»´æŠ¤ todolist çš„åŸºæœ¬çŠ¶æ€ï¼šå¾…åŠåˆ—è¡¨ todolistã€æ–°å»ºå¾…åŠçš„å†…å®¹ itemContent å’Œå½“å‰ç­›é€‰ç±»å‹ filterType</p>
<p><img src="8.png" alt="8"></p>
<h3 id="2-computed"><a href="#2-computed" class="headerlink" title="2.computed"></a>2.computed</h3><p>æ ¹æ®å½“å‰ç­›é€‰å™¨çš„ç±»å‹ï¼Œè¿”å›å¯¹åº”çš„ todoListã€‚</p>
<p><img src="9.png" alt="9"></p>
<h3 id="3-reactions"><a href="#3-reactions" class="headerlink" title="3.reactions"></a>3.reactions</h3><p>ç­›é€‰å™¨çŠ¶æ€å˜åŒ–åï¼Œå“åº”å¼åœ°æ‰“å°å‡ºå½“å‰ç­›é€‰å™¨çš„çŠ¶æ€ã€‚</p>
<p><img src="10.png" alt="10"></p>
<h3 id="4-actions"><a href="#4-actions" class="headerlink" title="4.actions"></a>4.actions</h3><p>ç‚¹å‡»ç­›é€‰å™¨åçš„çŠ¶æ€åˆ‡æ¢å’Œå¼‚æ­¥äº‹ä»¶ã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨ runInAction åŒ…è£…å¼‚æ­¥å‡½æ•°ï¼Œè¿™æ ·æ‰å¯ä»¥å®Œæˆå“åº”å¼çš„æ›´æ–°æ•°æ®ã€‚</p>
<p><img src="11.png" alt="11"></p>
<h2 id="å››ã€Mobx-vs-Redux"><a href="#å››ã€Mobx-vs-Redux" class="headerlink" title="å››ã€Mobx vs Redux"></a>å››ã€Mobx vs Redux</h2><p>ä¸¤è€…éƒ½æ˜¯ä¼˜ç§€çš„çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œéƒ½å¯ä»¥å¸®åŠ©å¼€å‘è€…å®Œæˆä¸šåŠ¡å¼€å‘ã€‚æ‰€ä»¥æŠ›å¼€ä¸šåŠ¡åœºæ™¯è°ˆè®ºå·¥å…·ä¼˜åŠ£æ˜¯æ— æ„ä¹‰çš„ï¼Œç¬”è€…è¿™é‡Œåªæ˜¯ç®€å•åˆ—å‡ºä¸¤è€…çš„åŒºåˆ«ã€‚</p>
<h3 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h3><p><img src="12.png" alt="12"></p>
<h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h3><p><img src="13.png" alt="13"></p>
<h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>ç¬”è€…åªæ˜¯ä»‹ç»äº† mobx çš„å†°å±±ä¸€è§’ï¼Œå…¶ä½œä¸ºä¸€ç§å“åº”å¼çš„çŠ¶æ€ç®¡ç†åº“ï¼Œåœ¨ä¸­å°å‹é¡¹ç›®ä¸­æœ‰ç€é«˜æ•ˆç‡çš„è¡¨ç°ã€‚å“åº”å¼çš„å†™æ³•ã€ç»†ç²’åº¦çš„ store ç®¡ç†éƒ½ä½“ç°äº† mobx çš„çµæ´»æ€§ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>çŠ¶æ€ç®¡ç†</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>Mobx</tag>
      </tags>
  </entry>
  <entry>
    <title>reactä¸­å‡å°‘renderè‡ƒè‚¿çš„æ–¹æ³•</title>
    <url>/2019/03/07/react%E4%B8%AD%E5%87%8F%E5%B0%91render%E8%87%83%E8%82%BF%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>æœ€è¿‘çœ‹äº†mobxçš„ç›¸å…³çŸ¥è¯†ï¼Œå¯¹computedå±æ€§ååˆ†å–œæ¬¢ã€‚</p>
<p>æƒ³èµ·åœ¨æ—¥å¸¸çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œreactç»å¸¸éœ€è¦åœ¨renderå‡½æ•°çš„å¼€å§‹éƒ¨åˆ†è¿›è¡Œä¸€äº›propså±æ€§çš„è®¡ç®—ï¼Œå†å°†è®¡ç®—å€¼ç”¨äºæ¸²æŸ“ã€‚ä¸€èˆ¬ä¼šæœ‰ä»¥ä¸‹ç”»é¢ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; firstName, secondName &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">const</span> fullName = firstName + secondName;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;fullName&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>å½“ä¸šåŠ¡é€»è¾‘å¤æ‚æ—¶å¯èƒ½ä¼šé€ æˆrenderå‡½æ•°ååˆ†çš„è‡ƒè‚¿ã€‚ä¹Ÿè®¸æˆ‘ä»¬ä¼šè¿›è¡Œè¿™æ ·çš„ä¼˜åŒ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  getFullName = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; firstName, secondName &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> firstName + secondName;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;this.getFullName()&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æˆ‘ä»¬å®è´¨ä¸Šå¯»æ±‚çš„æ˜¯ä¸€ç§computedçš„å±æ€§ï¼Œå°†å…¶å°è£…æˆå‡½æ•°åªæ˜¯ä¸€ç§æ›²çº¿æ•‘å›½çš„æ‰‹æ®µã€‚<br>ç›´åˆ°æˆ‘åœ¨çœ‹frontend masterçš„è¿‡ç¨‹ä¸­ï¼Œæ‰å‘ç°åŸæ¥å¯ä»¥ä½¿ç”¨classçš„getå±æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">fullName</span>() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; firstName, secondName &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> firstName + secondName;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;this.fullName&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>ä½¿ç”¨getå±æ€§å®ç°computedçš„åŠŸèƒ½å¯ä»¥å‡å°‘renderå‡½æ•°çš„è‡ƒè‚¿ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>è®¾è®¡</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åœ¨Github Pagesä¸Šéƒ¨ç½²create-react-appé¡¹ç›®</title>
    <url>/2020/06/17/%E5%A6%82%E4%BD%95%E5%9C%A8Github-Pages%E4%B8%8A%E9%83%A8%E7%BD%B2create-react-app%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ç¬”è€…ç»å¸¸ä¼šç”¨ create-react-app åšäº› demo é¡¹ç›®ã€‚å…¶ä¸­æŸäº›æ‰“ç®—ç»´æŠ¤çš„é¡¹ç›®ï¼Œç¬”è€…ä¼šå°†å…¶æ”¾åˆ° github ä¸Šã€‚ä½†æ˜¯æ­¤æ—¶çš„é—®é¢˜å¾€å¾€æ˜¯ï¼ŒREADME ä¸èƒ½å¤Ÿå¾ˆå¥½çš„é˜è¿°é¡¹ç›®çš„å…¨è²Œï¼Œæ­¤æ—¶å°±éœ€è¦å°†é¡¹ç›®éƒ¨ç½²åˆ°çº¿ä¸Šï¼Œè¾¾åˆ°åœ¨çº¿é¢„è§ˆçš„æ•ˆæœã€‚è€Œ Github Pages æœåŠ¡å°±å¯ä»¥å¾ˆå¥½çš„æ»¡è¶³è¿™ä¸ªæ•ˆæœã€‚</p>
<span id="more"></span>

<h2 id="æ­¥éª¤ä»‹ç»"><a href="#æ­¥éª¤ä»‹ç»" class="headerlink" title="æ­¥éª¤ä»‹ç»"></a>æ­¥éª¤ä»‹ç»</h2><h3 id="ä¸€ã€é¡¹ç›®åˆå§‹åŒ–"><a href="#ä¸€ã€é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="ä¸€ã€é¡¹ç›®åˆå§‹åŒ–"></a>ä¸€ã€é¡¹ç›®åˆå§‹åŒ–</h3><p>åˆ›å»ºé¡¹ç›®:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npx create-react-app demo</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ package.json ä¸­é…ç½®</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">&quot;homepage&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">&quot;deploy&quot;</span>: <span class="string">&quot;gh-pages -d build&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½® homepage æ˜¯ä¸ºäº†åç»­æ‰“åŒ…æ—¶ç”Ÿæˆçš„è·¯å¾„ä¸ºç›¸å¯¹è·¯å¾„ã€‚<br>é…ç½® deploy æ˜¯ä¸ºäº†æ‰“å®ŒåŒ…åå°†æ‰€æœ‰é™æ€æ–‡ä»¶éƒ¨ç½²åˆ° github çš„ gh-pages åˆ†æ”¯ä¸Šã€‚</p>
<blockquote>
<p>Github Pages é»˜è®¤åªæ”¯æŒ masterã€gh-pages ä¸¤ä¸ªåˆ†æ”¯å’Œ master/docs ç›®å½•ã€‚</p>
</blockquote>
<h3 id="äºŒã€æ„å»ºæœ¬åœ°é¡¹ç›®"><a href="#äºŒã€æ„å»ºæœ¬åœ°é¡¹ç›®" class="headerlink" title="äºŒã€æ„å»ºæœ¬åœ°é¡¹ç›®"></a>äºŒã€æ„å»ºæœ¬åœ°é¡¹ç›®</h3><p>æœ¬æ–‡ä¸­é»˜è®¤ç”¨çš„æ„å»ºè„šæ‰‹æ¶æ˜¯ create-react-appï¼Œç”Ÿæˆçš„ package.json ä¸­è‡ªå¸¦äº†æ„å»ºå‘½ä»¤ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œåï¼Œé¡¹ç›®ä¸­ä¼šç”Ÿæˆ build ç›®å½•</p>
<h3 id="ä¸‰ã€å®‰è£…-gh-pages-ä¾èµ–"><a href="#ä¸‰ã€å®‰è£…-gh-pages-ä¾èµ–" class="headerlink" title="ä¸‰ã€å®‰è£… gh-pages ä¾èµ–"></a>ä¸‰ã€å®‰è£… gh-pages ä¾èµ–</h3><blockquote>
<p>gh-pages: é»˜è®¤ä¼šå‘å¸ƒæ–‡ä»¶åˆ° github çš„ gh-pages åˆ†æ”¯</p>
</blockquote>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install gh-pages --save-dev</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€éƒ¨ç½²"><a href="#å››ã€éƒ¨ç½²" class="headerlink" title="å››ã€éƒ¨ç½²"></a>å››ã€éƒ¨ç½²</h3><p>è¿è¡Œå‘½ä»¤</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm run deploy</span><br></pre></td></tr></table></figure>

<p>å®Œæˆåï¼Œgithub ä¸Šä¼šç”Ÿæˆ gh-pages åˆ†æ”¯ï¼Œè¯¥åˆ†æ”¯ä¸‹åŒ…å« build ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶</p>
<p>æ­¤æ—¶æ‰“å¼€ githubï¼Œè¿›å…¥åˆ°å…·ä½“é¡¹ç›®ä¸­ï¼Œå…·ä½“å¦‚å›¾æ‰€ç¤º</p>
<p><img src="1.png" alt="1"></p>
<p><img src="2.png" alt="2"></p>
<p>ç„¶åï¼Œç‚¹å‡» settingsï¼Œåœ¨ Github Pages æ ‡é¢˜ä¸‹ï¼Œå°† source åˆ†æ”¯è®¾ç½®ä¸º gh-pagesã€‚<br>å¦‚å›¾æ‰€ç¤º</p>
<p><img src="3.png" alt="3"></p>
<p>ç„¶åè®¿é—® {username}.github.io/{é¡¹ç›®å}ï¼Œå°±å¯ä»¥åœ¨çº¿é¢„è§ˆé¡¹ç›®äº†ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>Github</tag>
      </tags>
  </entry>
  <entry>
    <title>å°è£…useModalå¤ç”¨å…¬å…±å¼¹çª—ç»„ä»¶</title>
    <url>/2020/08/09/%E5%B0%81%E8%A3%85useModal%E5%A4%8D%E7%94%A8%E5%85%AC%E5%85%B1%E5%BC%B9%E7%AA%97%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨å¸¸è§„çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ° Modal ç»„ä»¶ã€‚å½“ç¬”è€…åœ¨å¼€å‘å®é™…é¡¹ç›®æ—¶ï¼Œä¸šåŠ¡éœ€æ±‚è¦æ±‚æˆ‘åœ¨åŒä¸€ä¸ªé¡µé¢åˆ†åˆ«ä½¿ç”¨ 2-3 ç§å¼¹çª—ã€‚ç†è®ºæ¥è¯´æ­¤æ—¶åªéœ€è¦ä½¿ç”¨ä¸€ä¸ª Modal ç»„ä»¶ï¼Œå®šåˆ¶ä¸åŒå†…å®¹å³å¯ã€‚ä½†æ˜¯ç—›è‹¦å¸¸å¸¸æ¥æºäºç”Ÿæ´»ï¼Œç”±äºå›¢é˜Ÿäººå‘˜å˜åŠ¨ã€å…¬å…±ç»„ä»¶ç®¡ç†ä¸å¤Ÿè§„èŒƒã€é‡å¤é€ è½®å­ç­‰å„ç§åŸå› ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦æ¥å…¥å„ç§ä¸åŒç§ç±»çš„å¼¹çª—ç»„ä»¶ï¼Œæ¯”å¦‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä½¿ç”¨çš„ ExitModal å’Œ DeleteModal å°±å‡ºè‡ªä¸åŒäººä¹‹æ‰‹ï¼š</p>
<span id="more"></span>

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [isShowExitModal, setIsShowExitModal] = useState(<span class="literal">false</span>);</span><br><span class="line">  <span class="keyword">const</span> [isShowDeleteModal, setIsShowDeleteModal] = useState(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setIsShowExitModal(true)&#125;&gt;æ˜¾ç¤ºé€€å‡ºå¼¹çª—<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setIsShowDeleteModal(true)&#125;&gt;æ˜¾ç¤ºåˆ é™¤å¼¹çª—<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">ExitModal</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">visible</span>=<span class="string">&#123;isShowExitModal&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">onOk</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="xml">          console.log(&#x27;æˆåŠŸé€€å‡º&#x27;);</span></span><br><span class="line"><span class="xml">          setIsShowExitModal(false);</span></span><br><span class="line"><span class="xml">        &#125;&#125;</span></span><br><span class="line"><span class="xml">        onCancel=&#123;() =&gt; setIsShowExitModal(false)&#125;</span></span><br><span class="line"><span class="xml">      /&gt;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">DeleteModal</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">visible</span>=<span class="string">&#123;isShowDeleteModal&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">onOk</span>=<span class="string">&#123;()</span> =&gt;</span> console.log(&#x27;æˆåŠŸåˆ é™¤&#x27;)&#125;</span></span><br><span class="line"><span class="xml">        onCancel=&#123;() =&gt; setIsShowDeleteModal(false)&#125;</span></span><br><span class="line"><span class="xml">      /&gt;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¯¥ç»„ä»¶çš„çŠ¶æ€ä¾èµ–å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="1.png" alt="1"></p>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç°æœ‰åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å°è£…ä¸šåŠ¡ç»„ä»¶å¦‚æœä»¥è¿™ç§æ¨¡å¼å¤„ç†ï¼Œå¾€å¾€ä¼šé¢ä¸´ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>ä¸šåŠ¡ç»„ä»¶éœ€è¦ç»´æŠ¤å’Œç›´æ¥ä¾èµ– Modal ç»„ä»¶çš„æ˜¾éšçŠ¶æ€ï¼ŒModal ç»„ä»¶è¶Šå¤šï¼Œå†—ä½™çš„ ui çŠ¶æ€è¶Šå¤š</li>
<li>å¦‚æœ Modal ç»„ä»¶åœ¨å°è£…æ—¶æ²¡æœ‰ä½¿ç”¨ createPortal çš„ APIï¼ŒModal ç»„ä»¶å°±ä¼šæŒ‚è½½åˆ°ä¸šåŠ¡ç»„ä»¶çš„çœŸå® dom ä¸­ï¼Œå½±å“ä¸šåŠ¡ç»„ä»¶çš„ dom æ ‘</li>
</ul>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><p>é¦–å…ˆæˆ‘ä»¬æœŸæœ›çš„æ˜¯åœ¨ä¼˜åŒ–ä¹‹åèƒ½å¤Ÿä¿è¯ä¸šåŠ¡ç»„ä»¶å’Œ Modal ç»„ä»¶çš„çŠ¶æ€è„±é’©ï¼Œä¸šåŠ¡ç»„ä»¶ä»…ä»…éœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹æä¾›çš„ show æ–¹æ³•è°ƒèµ·å¼¹çª—ï¼Œåç»­çš„æ“ä½œéƒ½äº¤ç»™ç¬¬ä¸‰æ–¹å¤„ç†ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬æœŸæœ›åœ¨ä¼˜åŒ–ä¹‹åï¼Œæ— è®º Modal ç»„ä»¶ä¹‹å‰æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼Œä¸šåŠ¡æ–¹è°ƒç”¨æ—¶éƒ½ä¼šå°†å…¶æŒ‚è½½åˆ° body ä¸‹ï¼Œä¸å½±å“è‡ªèº«çš„ dom ç»“æ„ã€‚</p>
<p>å› æ­¤ï¼Œç¬”è€…å°è£…äº† useModal è¿™ä¸ª hookï¼Œæ¥å— Modal ç»„ä»¶ï¼Œè¿”å›ç»Ÿä¸€çš„ Modal ä»£ç†ã€‚ç”±ä»£ç†è§£å†³ä¸Šé¢çš„ä¸¤ä¸ªé—®é¢˜ã€‚å…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> exitModal = useModal(ExitModal);</span><br><span class="line">  <span class="keyword">const</span> deleteModal = useModal(DeleteModal);</span><br><span class="line">  <span class="keyword">const</span> onShowExitModal = useCallback(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    exitModal.show(&#123;</span><br><span class="line">      <span class="attr">onOk</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;é€€å‡ºæˆåŠŸ&#x27;</span>),</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, [exitModal]);</span><br><span class="line">  <span class="keyword">const</span> onShowDeleteModal = useCallback(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    deleteModal.show(&#123;</span><br><span class="line">      <span class="attr">onOk</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>),</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, [deleteModal]);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onClick</span>=<span class="string">&#123;onShowExitModal&#125;</span>&gt;</span>æ˜¾ç¤ºé€€å‡ºå¼¹çª—<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onClick</span>=<span class="string">&#123;onShowDeleteModal&#125;</span>&gt;</span>æ˜¾ç¤ºåˆ é™¤å¼¹çª—<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œä¸šåŠ¡ç»„ä»¶åªéœ€è¦ä¾èµ–ä¸åŒ modal å®ä¾‹çš„ä»£ç†ï¼Œè°ƒç”¨ä»£ç†çš„ show æ–¹æ³•è°ƒèµ·å¼¹çª—ï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ visible çŠ¶æ€å’Œåœ¨ renderTree ä¸­æ’å…¥ Modal ç»„ä»¶ã€‚</p>
<h2 id="UseModal-è¯¦è§£"><a href="#UseModal-è¯¦è§£" class="headerlink" title="UseModal è¯¦è§£"></a>UseModal è¯¦è§£</h2><p>ä½¿ç”¨ useModal åçš„ uml å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="2.png" alt="2"></p>
<p>useModal æ¥å—å®ç°äº† Modal æ¥å£çš„ React ç»„ä»¶ï¼Œç„¶åè¿”å›ä¸€ä¸ªä»£ç†ï¼Œè¯¥ä»£ç†æä¾›äº† show å’Œ destroy æ–¹æ³•ã€‚çª—å£çš„ ui çŠ¶æ€å’Œç»„ä»¶æŒ‚è½½é€»è¾‘äº¤ç”±ä»£ç†æ§åˆ¶ï¼Œä¸šåŠ¡ç»„ä»¶åªéœ€è¦çŸ¥é“ä»£ç†çš„æ¥å£ï¼Œå³å¯å®ç°çª—å£ç®¡ç†ã€‚</p>
<p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹ useModal å®ç° show å’Œ destroy çš„åŸºæœ¬åŸç†ï¼š</p>
<p>useModal ä¼šç»´æŠ¤å…·ä½“çš„çª—å£å®ä¾‹çš„ visible çŠ¶æ€å’ŒçœŸå®çš„ Modal ç»„ä»¶ï¼Œåœ¨ä¸šåŠ¡è°ƒç”¨ show æ–¹æ³•æ—¶ï¼ŒuseModal ä¼šè°ƒç”¨ ReactDOM çš„ render æ–¹æ³•å°† Modal ç»„ä»¶æŒ‚è½½åˆ° body çš„ dom ä¸‹ï¼Œåœ¨ä¸šåŠ¡è°ƒç”¨ destroy æ–¹æ³•æ˜¯ ReactDOM çš„ unmountComponentAtNode æ–¹æ³•å¸è½½çŠ¶æ€ã€‚<br>å…·ä½“é€»è¾‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> unmount = useCallback(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> result = ReactDOM.unmountComponentAtNode(mountNode);</span><br><span class="line">  <span class="keyword">if</span> (result &amp;&amp; mountNode.parentNode) &#123;</span><br><span class="line">    mountNode.parentNode.removeChild(mountNode);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [mountNode]);</span><br><span class="line"><span class="keyword">const</span> render = useCallback(</span><br><span class="line">  <span class="function">(<span class="params">modalProps: IModalProps</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(mountNode);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Modal</span> &#123;<span class="attr">...modalProps</span>&#125;&gt;</span><span class="tag">&lt;/<span class="name">Modal</span>&gt;</span></span>, mountNode);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  [mountNode]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="è¿›ä¸€æ­¥æ€è€ƒ"><a href="#è¿›ä¸€æ­¥æ€è€ƒ" class="headerlink" title="è¿›ä¸€æ­¥æ€è€ƒ"></a>è¿›ä¸€æ­¥æ€è€ƒ</h2><p>å½“å‰çš„ useModal å¾ˆå¥½çš„å®ç°äº†çŠ¶æ€è§£è€¦ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°å®ƒç»™æ‰€æœ‰ Modal ç»„ä»¶å¢åŠ äº†ä¸€å±‚çº¦æŸï¼Œå³æ‰€æœ‰å¼¹çª—ç»„ä»¶éƒ½è¦æ»¡è¶³ Modal è¿™ä¸€æ¥å£ã€‚</p>
<p>å®é™…ä¸šåŠ¡ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ° Modal ç»„ä»¶ä¸ç¬¦åˆè¿™ä¸€æ¥å£çš„ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿›ä¸€æ­¥å®ç° ModalAdapter ç­‰æ–¹å¼è§£å†³é—®é¢˜ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>è®¾è®¡</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>ç»„ä»¶è®¾è®¡</tag>
        <tag>React Hook</tag>
      </tags>
  </entry>
  <entry>
    <title>ramdaå¼€å‘å‘½ä»¤è¡Œå·¥å…·ç”Ÿæˆå¤šè¯­è¨€å­—å…¸</title>
    <url>/2019/11/29/ramda%E5%BC%80%E5%8F%91%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7%E7%94%9F%E6%88%90%E5%A4%9A%E8%AF%AD%E8%A8%80%E5%AD%97%E5%85%B8/</url>
    <content><![CDATA[<blockquote>
<p>github åœ°å€ï¼š<a href="https://github.com/Demian1996/translate">https://github.com/Demian1996/translate</a></p>
</blockquote>
<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>å‘½ä»¤è¡Œå·¥å…· translateï¼Œç»™å®šä¸­æ–‡å­—å…¸ï¼Œç”Ÿæˆ google ç¿»è¯‘åçš„å¤šè¯­è¨€æ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">translate -f zh-CN.json -l en/ja</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è¯¥å‘½ä»¤ç”Ÿæˆå¤šè¯­è¨€æ–‡ä»¶</p>
<span id="more"></span>
<h2 id="æ¨¡å—ä¾èµ–"><a href="#æ¨¡å—ä¾èµ–" class="headerlink" title="æ¨¡å—ä¾èµ–"></a>æ¨¡å—ä¾èµ–</h2><ul>
<li>å‘½ä»¤è¡Œå·¥å…·<code>commander</code></li>
<li>è¯·æ±‚åº“<code>request</code></li>
<li>å‡½æ•°åº“<code>ramda</code></li>
</ul>
<h2 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h2><h4 id="ç›®å½•æ€»è§ˆ"><a href="#ç›®å½•æ€»è§ˆ" class="headerlink" title="ç›®å½•æ€»è§ˆ"></a>ç›®å½•æ€»è§ˆ</h4><p><img src="1.png" alt="1"></p>
<p>bin æ˜¯ä¸šåŠ¡é€»è¾‘å¤„ç†æ–‡ä»¶</p>
<p>package.json é…ç½®ä¾èµ–</p>
<h4 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h4><p>é¦–å…ˆåœ¨<code>package.json</code>çš„æ–‡ä»¶ä¸­é…ç½®<code>bin</code>ï¼ŒæŒ‡å®šæ–‡ä»¶è·¯å¾„å’Œå¯¹åº”çš„å‘½ä»¤å:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;bin&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;translate&quot;</span>: <span class="string">&quot;./bin/index.js&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ bin æ–‡ä»¶å¤¹ä¸‹æ–°å»ºå…¥å£æ–‡ä»¶ index.jsï¼Œåœ¨æ–‡ä»¶é¦–è¡Œé…ç½®</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€è¡Œæ˜¯æŒ‡å®šä½¿ç”¨ node æ‰§è¡Œè„šæœ¬æ–‡ä»¶</p>
<p>ç„¶åæ‰§è¡Œå‘½ä»¤<code>npm link</code>ï¼Œå°±å¯ä»¥å…¨å±€ä½¿ç”¨ translate å‘½ä»¤äº†ã€‚</p>
<h4 id="å‚æ•°è§£æ"><a href="#å‚æ•°è§£æ" class="headerlink" title="å‚æ•°è§£æ"></a>å‚æ•°è§£æ</h4><p>ä½¿ç”¨æ¨¡å— Commander è§£æå‘½ä»¤è¡Œå‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">commander.option(<span class="string">&#x27;-f --file &lt;filename&gt;&#x27;</span>, <span class="string">&#x27;translate file&#x27;</span>, callback);</span><br><span class="line">commander.option(<span class="string">&#x27;-l --languages [languages]&#x27;</span>, <span class="string">&#x27;languages&#x27;</span>, <span class="string">&#x27;en&#x27;</span>);</span><br><span class="line">commander.parse(process.argv);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡<code>-f</code>æŒ‡å®šä¸­æ–‡å­—å…¸æ–‡ä»¶ï¼Œé€šè¿‡<code>-l</code>æŒ‡å®šç›®æ ‡è¯­è¨€ï¼Œé»˜è®¤ç¿»è¯‘ä¸ºè‹±æ–‡ã€‚<code>callback</code>ä¸»è¦æ˜¯åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨è‹¥ä¸å­˜åœ¨åˆ™è¿”å› nullï¼Œå­˜åœ¨åˆ™è¿”å› json å¯¹è±¡ã€‚åç»­å¯ä»¥é€šè¿‡ commander.file è·å– json å¯¹è±¡ã€‚</p>
<h4 id="æµç¨‹å¤„ç†"><a href="#æµç¨‹å¤„ç†" class="headerlink" title="æµç¨‹å¤„ç†"></a>æµç¨‹å¤„ç†</h4><p>ä¸šåŠ¡é€»è¾‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> generateDictionary = R.pipe(getLanguageArray, fetchTranslateApi, mapTranslation, generateFile);</span><br><span class="line">generateDictionary();</span><br></pre></td></tr></table></figure>

<p>å³è·å–ç›®æ ‡è¯­è¨€æ•°ç»„-&gt;çˆ¬å– google ç¿»è¯‘ api-&gt;ä»è¿”å›å€¼ä¸­ç­›é€‰å‡ºç¿»è¯‘å€¼-&gt;ç”Ÿæˆç›®æ ‡è¯­è¨€çš„ json æ–‡ä»¶ã€‚</p>
<p>è¯¦ç»†æµç¨‹è§æºç </p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>å·¥å…·å¼€å‘</category>
      </categories>
      <tags>
        <tag>Ramda</tag>
        <tag>å‡½æ•°å¼ç¼–ç¨‹</tag>
        <tag>å‘½ä»¤è¡Œå·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>é…ç½®é¡¹ç›®tså’Œhookçš„eslintçº¦æŸ</title>
    <url>/2020/08/14/%E9%85%8D%E7%BD%AE%E9%A1%B9%E7%9B%AEts%E5%92%8Chook%E7%9A%84eslint%E7%BA%A6%E6%9D%9F/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>teacher-web ç«¯ä¹‹å‰ç”¨çš„æ˜¯ tslintï¼Œè€ƒè™‘åˆ° typescript å›¢é˜Ÿå·²ç»åœæ­¢ç»´æŠ¤ tslintï¼Œä¸” Eslint è§„èŒƒæ›´å¤šï¼Œæ‰€ä»¥å°†æ•™å¸ˆç©ºé—´ä¸­çš„ ts ä»£ç æ£€æŸ¥æ•´åˆåˆ° Eslint ä¸­ã€‚æ•´ç†æ­¤ä»½æ–‡æ¡£ï¼Œæ–¹ä¾¿åç»­å‚ç…§ã€‚</p>
<p>é‰´äºé¡¹ç›®ä¸­æ™®éç”¨çš„å‡ä¸º alloyTeam çš„é…ç½®è§„èŒƒï¼Œæ‰€ä»¥æœ€ç»ˆå†³å®š js å’Œ ts æ–‡ä»¶çš„ eslint é…ç½®å‡ç»Ÿä¸€ä½¿ç”¨ alloyTeam çš„é…ç½®è§„èŒƒã€‚è¯¦ç»†åœ°å€è§<a href="https://github.com/AlloyTeam/eslint-config-alloy">eslint-config-alloy</a></p>
<span id="more"></span>

<h2 id="ç¬¬ä¸€æ­¥ï¼šå®‰è£…-æ›´æ–°-Vscode-æ’ä»¶-Eslint"><a href="#ç¬¬ä¸€æ­¥ï¼šå®‰è£…-æ›´æ–°-Vscode-æ’ä»¶-Eslint" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå®‰è£…/æ›´æ–° Vscode æ’ä»¶ Eslint"></a>ç¬¬ä¸€æ­¥ï¼šå®‰è£…/æ›´æ–° Vscode æ’ä»¶ Eslint</h2><p>vscode ä¸­æ›´æ–° Eslint æ’ä»¶åˆ°æœ€æ–°ç‰ˆï¼Œä¿è¯å¯¹ typescript-eslint çš„æ”¯æŒã€‚</p>
<p><img src="1.png" alt="1"></p>
<h2 id="ç¬¬äºŒæ­¥ï¼šå®‰è£…-Eslint-config-alloy"><a href="#ç¬¬äºŒæ­¥ï¼šå®‰è£…-Eslint-config-alloy" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå®‰è£… Eslint-config-alloy"></a>ç¬¬äºŒæ­¥ï¼šå®‰è£… Eslint-config-alloy</h2><p>AlloyTeam ESLintï¼šæ˜¯ä¸€å¥—å…ˆè¿›çš„é€‚ç”¨äº React/Vue/Typescript é¡¹ç›®çš„ ESLint é…ç½®è§„èŒƒï¼Œè€Œä¸”ä¹Ÿæ˜¯é…ç½®ä¸ªæ€§åŒ– ESLint è§„åˆ™çš„æœ€ä½³å‚è€ƒã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install --save-dev eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-react eslint-config-alloy</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæ¯•åï¼Œåœ¨.eslintrc.js æ–‡ä»¶ä¸­æ–°å¢é…ç½®å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&#x27;alloy&#x27;</span>, <span class="string">&#x27;alloy/react&#x27;</span>, <span class="string">&#x27;alloy/typescript&#x27;</span>],</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶é¡¹ç›®å·²ç»æ”¯æŒå¯¹ ts çš„ eslint é™åˆ¶ï¼Œ å¯ä»¥é€šè¿‡æ–°å»ºä¸€ä¸ª index.tsxï¼Œåœ¨å…¶ä¸­æ–°å»ºå˜é‡ varï¼Œæ­¤æ—¶ eslint ä¼šè¿›è¡ŒæŠ¥é”™ï¼š</p>
<p><img src="2.png" alt="2"></p>
<blockquote>
<p>ps: å¦‚æœè£…å®Œåï¼Œvscode æ²¡æœ‰æˆåŠŸç»™å‡ºæç¤ºã€‚å…ˆæ‰“å¼€ vscode å‘½ä»¤è¡Œï¼Œåœ¨â€œç»ˆç«¯â€ä¸­é€‰æ‹© Eslintï¼ŒæŸ¥çœ‹å…·ä½“é”™è¯¯ã€‚å¦‚æœæ˜¯æŠ¥æ‰¾ä¸åˆ°åŒ…çš„é”™è¯¯ï¼Œå¾ˆå¯èƒ½æ˜¯ä¹‹å‰å®‰è£…è¿‡ä¸Šé¢çš„æŸä¸ªåŒ…ï¼Œç‰ˆæœ¬å’Œç°åœ¨å®‰è£…çš„å…¶ä»–åŒ…ä¸å…¼å®¹ã€‚å¯ä»¥è¯•è¯•å…ˆå°†ä¸Šé¢çš„æ‰€æœ‰åŒ…å…¨éƒ¨ uninstallï¼Œå†é‡æ–° installã€‚</p>
</blockquote>
<h2 id="ç¬¬ä¸‰æ­¥ï¼šå®‰è£…-hook-è§„èŒƒ"><a href="#ç¬¬ä¸‰æ­¥ï¼šå®‰è£…-hook-è§„èŒƒ" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šå®‰è£… hook è§„èŒƒ"></a>ç¬¬ä¸‰æ­¥ï¼šå®‰è£… hook è§„èŒƒ</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install --save-dev eslint-plugin-react-hooks</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæ¯•åï¼Œåœ¨.eslintrc.js æ–‡ä»¶ä¸­æ–°å¢</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extends</span>: [</span><br><span class="line">    ...,</span><br><span class="line">    <span class="string">&#x27;plugin:react-hooks/recommended&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ plugin æä¾›çš„æ¨èé…ç½®ï¼Œæƒ³è¦è‡ªå®šä¹‰é…ç½®å¯è‡ªè¡Œå‚ç…§å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨ rules ä¸­è¿›è¡Œé…ç½®ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>Eslint</tag>
        <tag>Typescript</tag>
        <tag>Alloy</tag>
      </tags>
  </entry>
</search>
